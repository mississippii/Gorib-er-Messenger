{"ast":null,"code":"let socketInstance = null;\nexport const createWebSocket = url => {\n  if (!socketInstance || socketInstance.readyState === WebSocket.CLOSED) {\n    socketInstance = new WebSocket(url);\n    socketInstance.onopen = () => {\n      console.log(\"WebSocket connection established.\");\n    };\n    socketInstance.onclose = () => {\n      console.log(\"WebSocket connection closed.\");\n      socketInstance = null; // Reset instance\n    };\n    socketInstance.onerror = error => {\n      console.error(\"WebSocket error:\", error);\n    };\n  }\n  return socketInstance;\n};\nexport const closeWebSocket = () => {\n  if (socketInstance && socketInstance.readyState !== WebSocket.CLOSED) {\n    socketInstance.close();\n    socketInstance = null;\n  }\n};\nexport const getWebSocketInstance = () => socketInstance;","map":{"version":3,"names":["socketInstance","createWebSocket","url","readyState","WebSocket","CLOSED","onopen","console","log","onclose","onerror","error","closeWebSocket","close","getWebSocketInstance"],"sources":["/home/veer/Documents/JavaScript/messenger-client/src/components/WebSocketService.js"],"sourcesContent":["let socketInstance = null;\n\nexport const createWebSocket = (url) => {\n  if (!socketInstance || socketInstance.readyState === WebSocket.CLOSED) {\n    socketInstance = new WebSocket(url);\n\n    socketInstance.onopen = () => {\n      console.log(\"WebSocket connection established.\");\n    };\n\n    socketInstance.onclose = () => {\n      console.log(\"WebSocket connection closed.\");\n      socketInstance = null; // Reset instance\n    };\n\n    socketInstance.onerror = (error) => {\n      console.error(\"WebSocket error:\", error);\n    };\n  }\n  return socketInstance;\n};\n\nexport const closeWebSocket = () => {\n  if (socketInstance && socketInstance.readyState !== WebSocket.CLOSED) {\n    socketInstance.close();\n    socketInstance = null;\n  }\n};\n\nexport const getWebSocketInstance = () => socketInstance;\n"],"mappings":"AAAA,IAAIA,cAAc,GAAG,IAAI;AAEzB,OAAO,MAAMC,eAAe,GAAIC,GAAG,IAAK;EACtC,IAAI,CAACF,cAAc,IAAIA,cAAc,CAACG,UAAU,KAAKC,SAAS,CAACC,MAAM,EAAE;IACrEL,cAAc,GAAG,IAAII,SAAS,CAACF,GAAG,CAAC;IAEnCF,cAAc,CAACM,MAAM,GAAG,MAAM;MAC5BC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAClD,CAAC;IAEDR,cAAc,CAACS,OAAO,GAAG,MAAM;MAC7BF,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAC3CR,cAAc,GAAG,IAAI,CAAC,CAAC;IACzB,CAAC;IAEDA,cAAc,CAACU,OAAO,GAAIC,KAAK,IAAK;MAClCJ,OAAO,CAACI,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C,CAAC;EACH;EACA,OAAOX,cAAc;AACvB,CAAC;AAED,OAAO,MAAMY,cAAc,GAAGA,CAAA,KAAM;EAClC,IAAIZ,cAAc,IAAIA,cAAc,CAACG,UAAU,KAAKC,SAAS,CAACC,MAAM,EAAE;IACpEL,cAAc,CAACa,KAAK,CAAC,CAAC;IACtBb,cAAc,GAAG,IAAI;EACvB;AACF,CAAC;AAED,OAAO,MAAMc,oBAAoB,GAAGA,CAAA,KAAMd,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}